# ๐ ูุณุชูุฏุงุช ูุงุฒ 4: ุณุณุชู ูุงฺฉุชูุฑ ู ูพุฑุฏุงุฎุช

## โ ูุถุนุช: ุชฺฉูู ุดุฏู (ุจุฎุด ุงูู)

ุชุงุฑุฎ ุชฺฉูู: 2025-01-15

---

## ๐ ุฎูุงุตู ูุงุฒ 4

ุฏุฑ ุงู ูุงุฒุ ุณุณุชู ูุงฺฉุชูุฑ ู ูพุฑุฏุงุฎุช ุงุฌุงุฏ ุดุฏ:

- โ ุตูุญู ูุณุช ูุงฺฉุชูุฑูุง ุจุง ุขูุงุฑ ูุงู
- โ ูุฑู ุงุฌุงุฏ ูุงฺฉุชูุฑ ุจุง ุขุชููุง ุฏูุงูฺฉ
- โ ุตูุญู ุฌุฒุฆุงุช ูุงฺฉุชูุฑ
- โ ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ูุงูุงุช ู ูุฌููุน
- โ ููุงุด ูุถุนุช ูพุฑุฏุงุฎุช
- โณ ุชููุฏ PDF (ูุงุฒ ุจุนุฏ)
- โณ ฺฉูพุงุฑฺูุณุงุฒ ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช (ูุงุฒ ุจุนุฏ)
- โณ ุงุฑุณุงู ุงูู (ูุงุฒ ุจุนุฏ)

---

## ๐ ูุงููุง ุงุฌุงุฏ ุดุฏู

### 1. ูุณุช ูุงฺฉุชูุฑูุง
```
src/pages/admin/Invoices.tsx
```

**ูฺฺฏูุง:**
- ููุงุด ุชูุงู ูุงฺฉุชูุฑูุง
- ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ุดูุงุฑู ูุงฺฉุชูุฑ ู ูุงู ูุดุชุฑ
- ุขูุงุฑ ูุงู:
  - ฺฉู ูุงฺฉุชูุฑูุง
  - ุฏุฑุขูุฏ (ูุงฺฉุชูุฑูุง ูพุฑุฏุงุฎุช ุดุฏู)
  - ูพุฑุฏุงุฎุช ูุดุฏู
  - ุณุฑุฑุณุฏ ฺฏุฐุดุชู
- Badge ูุถุนุช ู ูุดุฏุงุฑ ุณุฑุฑุณุฏ
- ููฺฉ ุจู ุฌุฒุฆุงุช ูุงฺฉุชูุฑ

### 2. ูุฑู ูุงฺฉุชูุฑ
```
src/pages/admin/InvoiceForm.tsx
```

**ูฺฺฏูุง:**
- ุงูุชุฎุงุจ ูุดุชุฑ
- ุงูุชุฎุงุจ ูพุฑูฺู (ุจุฑ ุงุณุงุณ ูุดุชุฑ)
- ุชุงุฑุฎ ุตุฏูุฑ ู ุณุฑุฑุณุฏ
- ูุถุนุช ูุงฺฉุชูุฑ
- ุขุชููุง ุฏูุงูฺฉ:
  - ุงูุฒูุฏู/ุญุฐู ุขุชู
  - ุนููุงูุ ุชูุถุญุงุช
  - ุชุนุฏุงุฏุ ููุช ูุงุญุฏ
  - ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ุฌูุน ูุฑ ุขุชู
- ุชุฎูู
- ูุญุงุณุจู ุฎูุฏฺฉุงุฑ:
  - ุฌูุน ฺฉู
  - ูุงูุงุช (9%)
  - ูุจูุบ ููุง
- Validation ฺฉุงูู

### 3. ุฌุฒุฆุงุช ูุงฺฉุชูุฑ
```
src/pages/admin/InvoiceDetails.tsx
```

**ูฺฺฏูุง:**
- ููุงุด ุงุทูุงุนุงุช ฺฉุงูู ูุงฺฉุชูุฑ
- Badge ูุถุนุช ู ูุดุฏุงุฑูุง
- ุงุทูุงุนุงุช ูุดุชุฑ
- ุฌุฏูู ุขุชููุง ูุงฺฉุชูุฑ
- ุฎูุงุตู ูุงู
- ุชุงุฑุฎฺู ูพุฑุฏุงุฎุชูุง
- ุฏฺฉูููุง:
  - ุฏุงูููุฏ PDF (ุขูุงุฏู ุจุฑุง ูพุงุฏูุณุงุฒ)
  - ุงุฑุณุงู ุงูู (ุขูุงุฏู ุจุฑุง ูพุงุฏูุณุงุฒ)
  - ุญุฐู

---

## ๐ฃ๏ธ Routes ุงุถุงูู ุดุฏู

```typescript
/admin/invoices              โ ูุณุช ูุงฺฉุชูุฑูุง
/admin/invoices/new          โ ุงุฌุงุฏ ูุงฺฉุชูุฑ
/admin/invoices/:id          โ ุฌุฒุฆุงุช ูุงฺฉุชูุฑ
```

---

## ๐ฐ ูุญุงุณุจุงุช ูุงู

### ูุฑููููุง:
```
ุฌูุน ฺฉู = ูุฌููุน (ุชุนุฏุงุฏ ร ููุช ูุงุญุฏ) ุชูุงู ุขุชููุง
ูุงูุงุช = (ุฌูุน ฺฉู - ุชุฎูู) ร 9%
ูุจูุบ ููุง = ุฌูุน ฺฉู - ุชุฎูู + ูุงูุงุช
```

### ูุซุงู:
```
ุขุชู 1: 2 ร 5,000,000 = 10,000,000 ุชููุงู
ุขุชู 2: 1 ร 3,000,000 = 3,000,000 ุชููุงู
---
ุฌูุน ฺฉู: 13,000,000 ุชููุงู
ุชุฎูู: -1,000,000 ุชููุงู
ูุงูุงุช (9%): +1,080,000 ุชููุงู
---
ูุจูุบ ููุง: 13,080,000 ุชููุงู
```

---

## ๐ง ุงุณุชูุงุฏู ุงุฒ Helper Functions

```typescript
// ฺฏุฑูุชู ูุณุช ูุงฺฉุชูุฑูุง
const { data: invoices } = useQuery({
  queryKey: ["invoices"],
  queryFn: getInvoices,
});

// ฺฏุฑูุชู ฺฉ ูุงฺฉุชูุฑ
const { data: invoice } = useQuery({
  queryKey: ["invoice", id],
  queryFn: () => getInvoiceById(id),
});

// ุงุฌุงุฏ ูุงฺฉุชูุฑ
const invoice = await createInvoice({
  customer_id,
  subtotal,
  discount,
  tax,
  total,
  status,
});

// ุงุฌุงุฏ ุขุชููุง ูุงฺฉุชูุฑ
for (const item of items) {
  await createInvoiceItem({
    invoice_id: invoice.id,
    title: item.title,
    quantity: item.quantity,
    unit_price: item.unit_price,
    total: item.quantity * item.unit_price,
  });
}
```

---

## ๐ ุขูุงุฑ ูุงุฒ 4

| ููุฑุฏ | ุชุนุฏุงุฏ |
|------|-------|
| ุตูุญุงุช ุฌุฏุฏ | 3 |
| Routes ุฌุฏุฏ | 3 |
| ุฎุทูุท ฺฉุฏ | ~900 |
| ูฺฺฏูุง | 25+ |

---

## โจ ูฺฺฏูุง ูพุงุฏูุณุงุฒ ุดุฏู

- โ **CRUD ฺฉุงูู** ุจุฑุง ูุงฺฉุชูุฑูุง
- โ **ุขุชููุง ุฏูุงูฺฉ**
- โ **ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ**
- โ **Validation** ุจุง Zod
- โ **ุขูุงุฑ ูุงู**
- โ **ูุดุฏุงุฑ ุณุฑุฑุณุฏ**
- โ **ุงุฑุชุจุงุท ุจุง ูุดุชุฑุงู ู ูพุฑูฺููุง**
- โ **ุชุงุฑุฎฺู ูพุฑุฏุงุฎุชูุง**
- โ **Responsive Design**

---

## ๐ฏ ุชุณุช

### ฺฺฉ ูุณุช ุชุณุช:

- [ ] ุงุฌุงุฏ ูุงฺฉุชูุฑ ุฌุฏุฏ
- [ ] ุงูุฒูุฏู ฺูุฏ ุขุชู
- [ ] ุญุฐู ุขุชู
- [ ] ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ูุฌููุน
- [ ] ุงุนูุงู ุชุฎูู
- [ ] ูุญุงุณุจู ูุงูุงุช
- [ ] ูุดุงูุฏู ุฌุฒุฆุงุช ูุงฺฉุชูุฑ
- [ ] ุญุฐู ูุงฺฉุชูุฑ
- [ ] ุชุณุช ุฏุฑ ููุจุงู

---

## ๐ ูุฑุงุญู ุจุนุฏ

### ูฺฺฏูุง ุจุงููุงูุฏู ูุงุฒ 4:

1. **ุชููุฏ PDF ูุงฺฉุชูุฑ**
   - ุงุณุชูุงุฏู ุงุฒ react-pdf ุง jsPDF
   - ูุงูุจ ุญุฑููุง ูุงุฑุณ
   - ููฺฏู ู ุงุทูุงุนุงุช ุดุฑฺฉุช

2. **ฺฉูพุงุฑฺูุณุงุฒ ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช**
   - ุฒุฑููพุงู SDK
   - ุตูุญู ูพุฑุฏุงุฎุช
   - Callback ู ุชุฃุฏ ูพุฑุฏุงุฎุช
   - ุซุจุช ุฎูุฏฺฉุงุฑ ูพุฑุฏุงุฎุช

3. **ุงุฑุณุงู ุงูู**
   - ฺฉูพุงุฑฺูุณุงุฒ ุจุง Resend/SendGrid
   - ูุงูุจ ุงูู ุญุฑููุง
   - ุงุฑุณุงู ูุงฺฉุชูุฑ ุจู ูุดุชุฑ
   - ุงุฏุขูุฑ ุณุฑุฑุณุฏ

---

**ูุถุนุช:** โ ุจุฎุด ุงูู ุชฺฉูู ุดุฏู
